geom_xsidedensity(
aes(
y    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
geom_ysidedensity(
aes(
x    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
labs(title = "Economy on Education" ,
subtitle = "Scatter plot + density distribution",
x = "Family Income", y = "Education") +
theme_minimal() +
theme(
ggside.panel.scale = 0.4
)
library(drhur)
# E.g. 1 ####
library(dplyr)
wvs7_narm <-
filter(wvs7,
if_all(c(incomeLevel, education, religious), ~ !is.na(.)))
library(ggside)
ggplot(data = wvs7_narm,
aes(x = incomeLevel, y = education, color = religious)) +
geom_point(size = 2, alpha = 0.3) +
geom_smooth(aes(color = NULL), se=TRUE) +
geom_xsidedensity(
aes(
y    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
geom_ysidedensity(
aes(
x    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
labs(title = "Economy on Education" ,
subtitle = "Scatter plot + density distribution",
x = "Family Income", y = "Education") +
theme_minimal() +
theme(
ggside.panel.scale = 0.4
)
wvs7_narm <-
filter(wvs7,
if_all(c(incomeLevel, education, religious), ~ !is.na(.)))
ggplot(data = wvs7_narm,
aes(x = incomeLevel, y = education, color = religious))
ggplot(data = wvs7_narm,
aes(x = incomeLevel, y = education, color = religious)) +
geom_point(size = 2, alpha = 0.3) +
geom_smooth(aes(color = NULL), se=TRUE) +
geom_xsidedensity(
aes(
y    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
geom_ysidedensity(
aes(
x    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
labs(title = "Economy on Education" ,
subtitle = "Scatter plot + density distribution",
x = "Family Income", y = "Education") +
theme_minimal() +
theme(
ggside.panel.scale = 0.4
)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
out.width="100%")
if (!require(pacman)) install.packages("pacman")
if(!require(ggradar)) devtools::install_github("ricardo-bion/ggradar", dependencies = TRUE)
p_load(
scales,
tidyverse,
drhur,
ggside
)
wvs7_narm <-
filter(wvs7,
if_all(c(incomeLevel, education, religious), ~ !is.na(.)))
set.seed(114)
# E.g. 1 ####
library(dplyr)
wvs7_narm <-
filter(wvs7,
if_all(c(incomeLevel, education, religious), ~ !is.na(.)))
library(ggside)
ggplot(data = wvs7_narm,
aes(x = incomeLevel, y = education, color = religious)) +
geom_point(size = 2, alpha = 0.3) +
geom_smooth(aes(color = NULL), se=TRUE) +
geom_xsidedensity(
aes(
y    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
geom_ysidedensity(
aes(
x    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
labs(title = "Economy on Education" ,
subtitle = "Scatter plot + density distribution",
x = "Family Income", y = "Education") +
theme_minimal() +
theme(
ggside.panel.scale = 0.4
)
wvs7_narm <-
filter(wvs7,
if_all(c(incomeLevel, education, religious), ~ !is.na(.)))
ggplot(data = wvs7_narm,
aes(x = incomeLevel, y = education, color = religious))
drhur::drhur("visualize")
ggplot(data = wvs7_narm,
aes(x = incomeLevel, y = education, color = religious)) +
geom_point(size = 2, alpha = 0.3) +
geom_smooth(aes(color = NULL), se=TRUE) +
geom_xsidedensity(
aes(
y    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
geom_ysidedensity(
aes(
x    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
labs(title = "Economy on Education" ,
subtitle = "Scatter plot + density distribution",
x = "Family Income", y = "Education") +
theme_minimal() +
theme(
ggside.panel.scale = 0.4
)
library(tidyverse)
ggplot(data = wvs7_narm,
aes(x = incomeLevel, y = education, color = religious)) +
geom_point(size = 2, alpha = 0.3) +
geom_smooth(aes(color = NULL), se=TRUE) +
geom_xsidedensity(
aes(
y    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
geom_ysidedensity(
aes(
x    = after_stat(density),
fill = religious
),
alpha    = 0.5,
size     = 1
,
position = "stack"
) +
labs(title = "Economy on Education" ,
subtitle = "Scatter plot + density distribution",
x = "Family Income", y = "Education") +
theme_minimal() +
theme(
ggside.panel.scale = 0.4
)
wvs7 %>%
select(education, incomeLevel, confidence_gov) %>%
group_by(education,incomeLevel) %>%
summarise(confidence_gov = median(confidence_gov, na.rm=TRUE)) %>%
ungroup() -> wvs7_confidence
wvs7 %>%
select(education, incomeLevel, confidence_gov) %>%
group_by(education,incomeLevel) %>%
summarise(confidence_gov = median(confidence_gov, na.rm=TRUE)) %>%
ungroup() -> wvs7_confidence
p <- ggplot(data = wvs7_confidence, mapping = aes(
x = education, y = incomeLevel, fill = confidence_gov))
p + geom_tile() +
scale_fill_viridis_c()
193/14000
2325/14000
1843/14000
102-56
46/193
824/2325
619/1843
# 加载所需的包
library(ggplot2)
library(reshape2) # 用于数据框重塑
library(RColorBrewer) # 提供色阶
# 生成一些随机数据
set.seed(123) # 确保结果可重现
data <- matrix(runif(120), nrow=10, ncol=12)
# 将矩阵数据转换为数据框，适用于ggplot
data_melt <- melt(data)
# 绘制热力图
ggplot(data_melt, aes(Var2, Var1, fill=value)) +
geom_tile() +
scale_fill_gradientn(colors=brewer.pal(8, "Purples")) + # 使用"Purples"色阶
theme_minimal() + # 使用简洁主题
labs(x="Column", y="Row", fill="Value") + # 添加标签
ggtitle("Heatmap with 'Umeboshi Jam' Colors") # 添加标题
# 加载所需的包
library(ggplot2)
library(reshape2) # 用于数据框重塑
library(RColorBrewer) # 提供色阶
# 生成一些随机数据
set.seed(123) # 确保结果可重现
data <- matrix(runif(120), nrow=10, ncol=12)
# 将矩阵数据转换为数据框，适用于ggplot
data_melt <- melt(data)
# 绘制热力图
ggplot(data_melt, aes(Var2, Var1, fill=value)) +
geom_tile() +
scale_fill_gradientn(colors=brewer.pal(8, "Purples")) + # 使用"Purples"色阶
theme_minimal() + # 使用简洁主题
labs(x="Column", y="Row", fill="Value") + # 添加标签
ggtitle("Heatmap with 'Umeboshi Jam' Colors") # 添加标题
96/3866
999/18/4
28/45
（28+4）/45
(28+4)/45
18*28
480/504
28/41
32/41
1400*19
1300*19
getwd()
remotes::install_github("sammo3182/drhurText")
install.packages("~/Downloads/drhurText-main.zip", repos = NULL, type = "win.binary")
34*13+100
38*15
37*15
36*15
884+380
180/15
1260*49
61740/（1.049）
61740/(1.049)
58856.05/1260
46.71*1260*1.0494
46.71*1260
45*(1-0.049)
38*1.049
45*1260
45*1260
48*1260
15*36*2
1080+180
50226.12/1260
chooseCRANmirror(graphics = FALSE, ind = 1)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
out.width="100%")
if (!require(pacman)) install.packages("pacman")
p_load(
lubridate,
here,
rio,
tidyverse,
drhur
)
ls_monks <- list(name = c("Wukong Sun", "Sanzang Tang", "Wuneng Zhu", "Wujing Sha"),
power = c(100, 20, 90, 40),
buddha = c(TRUE, TRUE, FALSE, FALSE))
ls_monks
(386+344+366+313+519+551+438+632+288)/9
551-438
632-288
344/632
551-438
113/551
5035/1327
5035/13827
426/5035
632/5035
288/5035
344+366
313+519
551+438
632+288
(939+810+597+554+652+636+439+645+288)/9
(939+810+597+554+652+636+439+645+288+100)
(939+810+597+554+652+636+439+645+288+100)/10
(810+597)
554+652
636+439
645+288
1039+1407+1206+1075+933
5660/5
(1407-933)/1407
5035+645
5680/13827
645/5680
1132/2
240.8/1054.7
933/6973
1075/4716
1075/4762
1075/4716
4716+46
1064/4716
1064/(4716+46)
1064/4716
2098.0+1054.7
240.8/3152.7
1064/(4716+5326)
1064/4716
240.8/1054.7
933/5035
2258/4591
1206/4591
240.8/1057.4
0.001*4716
645/5035
288/4104
61-46
36/81
81*0.4
47/82
47/81
61/81
51/81
11*8
307150/50
18/172
10000-1046
172-18
7/172
172-7
165/172
10/174
100-5.75
156/174
65/174
(5*1.5)+(15*0.5)+(30*0.1)+(50*0.05)
7.5+7.5+3+2.5
(2540+1556)/9
291+311+306
4400+908
5308+4672
5408+4672
install.packages("Rlinkedin")
462/22
(5*7.5)
(5*1.5)+(15*0.5)+(30*0.1)+(50*0.05)
173*47
22*21
242*21
242/21
242/22
488/16
436/4
320*12
320/12
420/16
329/8
2100/12
69,901.26-954
69901.26-954
68947.26/205000
1405-25-14
1+7+11+59
1366+121
2+9+12+61
84-6
7960+2515+1315+700+1000
13490+68947.26
(12665+7960)/2
(12665+7960)/(45+29)
(27863.5+2515+1315)/9
(27863.5+2515+1315)/(74++18+40)
(9418.72+700)/12
(9418.72+700)/(11+271)
(23760.04+1000)/61
(23760.04+1000)/(877+23)
68947.26-82437.26
2+9+12+61
getwd()
13*9
1000/3582
1046/3582
install.packages(c("usethis", "devtools", "roxygen2", "testthat"))
getwd()
setwd("/Users/albert/Documents/GIthub/swiid_package")
getwd()
usethis::use_description()
setwd("/Users/albert/Documents/GIthub/swiidTool")
usethis::use_description()
getwd()
usethis::create_package("/Users/albert/Documents/GIthub/swiidTool")
Sys.setenv(DATAVERSE_SERVER = "dataverse.harvard.edu")
Sys.setenv(DATAVERSE_KEY    = "你的token")
swiid_index <- dataverse::get_dataset("10.7910/DVN/LM4OWF",
server = Sys.getenv("DATAVERSE_SERVER"),
key    = Sys.getenv("076ccb56-17f1-4c6f-8b5d-9addb4719f83"))
Sys.setenv(DATAVERSE_SERVER = "dataverse.harvard.edu")
Sys.setenv(DATAVERSE_KEY    = "076ccb56-17f1-4c6f-8b5d-9addb4719f83")
swiid_index <- dataverse::get_dataset("10.7910/DVN/LM4OWF",
server = Sys.getenv("DATAVERSE_SERVER"),
key    = Sys.getenv("DATAVERSE_KEY"))
Sys.getenv("DATAVERSE_KEY")
dataverse::get_dataset(
"10.7910/DVN/LM4OWF",
server = "dataverse.harvard.edu",
key    = Sys.getenv("DATAVERSE_KEY")
)
key <- trimws(Sys.getenv("DATAVERSE_KEY"))
nchar(key)
key <- trimws(Sys.getenv("DATAVERSE_KEY"))
swiid_index <- dataverse::get_dataset(
"doi:10.7910/DVN/LM4OWF",
server = "dataverse.harvard.edu",
key    = key
)
key <- trimws(Sys.getenv("DATAVERSE_KEY"))
meta <- dataverse::dataset_metadata(
"doi:10.7910/DVN/LM4OWF",
server = "dataverse.harvard.edu",
key    = key
)
install.packages("httr")
library(httr)
key <- trimws(Sys.getenv("DATAVERSE_KEY"))
r_me <- GET(
"https://dataverse.harvard.edu/api/users/:me",
add_headers("X-Dataverse-key" = key)
)
library(httr)
r <- GET("https://dataverse.harvard.edu/api/info/version",
timeout(30))
Sys.getenv(c("http_proxy","https_proxy","HTTP_PROXY","HTTPS_PROXY","no_proxy","NO_PROXY"))
library(httr)
r <- GET("https://dataverse.harvard.edu/api/info/version",
timeout(30))
library(httr)
r <- GET("https://dataverse.harvard.edu/api/info/version",
timeout(120))
status_code(r)
library(httr)
r <- GET(
"https://dataverse.harvard.edu/api/info/version",
timeout(120)
)
library(httr)
r <- GET(
"https://dataverse.harvard.edu/api/info/version",
timeout(120)
)
6^2100
6*2100
